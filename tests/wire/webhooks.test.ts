// This file was auto-generated by Fern from our API Definition.

import { ForumClient } from "../../src/Client";
import { mockServerPool } from "../mock-server/MockServerPool";

describe("WebhooksClient", () => {
    test("listWebhooks", async () => {
        const server = mockServerPool.createServer();
        const client = new ForumClient({ maxRetries: 0, token: "test", apiKey: "test", environment: server.baseUrl });

        server.mockEndpoint().get("/webhooks").respondWith().statusCode(200).build();

        const response = await client.webhooks.listWebhooks();
        expect(response).toEqual(undefined);
    });

    test("createWebhook", async () => {
        const server = mockServerPool.createServer();
        const client = new ForumClient({ maxRetries: 0, token: "test", apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = { key: "value" };

        server.mockEndpoint().post("/webhooks").jsonBody(rawRequestBody).respondWith().statusCode(200).build();

        const response = await client.webhooks.createWebhook({
            key: "value",
        });
        expect(response).toEqual(undefined);
    });

    test("getWebhook", async () => {
        const server = mockServerPool.createServer();
        const client = new ForumClient({ maxRetries: 0, token: "test", apiKey: "test", environment: server.baseUrl });

        server.mockEndpoint().get("/webhooks/id").respondWith().statusCode(200).build();

        const response = await client.webhooks.getWebhook({
            id: "id",
        });
        expect(response).toEqual(undefined);
    });

    test("deleteWebhook", async () => {
        const server = mockServerPool.createServer();
        const client = new ForumClient({ maxRetries: 0, token: "test", apiKey: "test", environment: server.baseUrl });

        server.mockEndpoint().delete("/webhooks/id").respondWith().statusCode(200).build();

        const response = await client.webhooks.deleteWebhook({
            id: "id",
        });
        expect(response).toEqual(undefined);
    });

    test("updateWebhook", async () => {
        const server = mockServerPool.createServer();
        const client = new ForumClient({ maxRetries: 0, token: "test", apiKey: "test", environment: server.baseUrl });

        server.mockEndpoint().patch("/webhooks/id").respondWith().statusCode(200).build();

        const response = await client.webhooks.updateWebhook({
            id: "id",
        });
        expect(response).toEqual(undefined);
    });

    test("listDeliveries", async () => {
        const server = mockServerPool.createServer();
        const client = new ForumClient({ maxRetries: 0, token: "test", apiKey: "test", environment: server.baseUrl });

        server.mockEndpoint().get("/webhooks/id/deliveries").respondWith().statusCode(200).build();

        const response = await client.webhooks.listDeliveries({
            id: "id",
        });
        expect(response).toEqual(undefined);
    });
});
